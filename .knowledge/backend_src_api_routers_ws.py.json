{"is_source_file": true, "format": "Python", "description": "This file defines WebSocket routes using FastAPI to handle real-time notification streams, including a help endpoint and the WebSocket notification endpoint itself, which manages token authentication, user validation, and message echoing.", "external_files": ["src.core.security", "src.db.session", "src.models.user"], "external_methods": ["decode_token"], "published": ["router"], "classes": [], "methods": [{"name": "websocket_usage()", "description": "Provides usage information for WebSocket notifications, including connection URL, protocol, and notes.", "scope": "", "scopeKind": ""}, {"name": "ws_notifications(websocket: WebSocket, token: Optional[str] = Query(default=None, alias=\"token\"))", "description": "Handles WebSocket connections for real-time notifications, validating JWT tokens and managing user sessions.", "scope": "", "scopeKind": ""}], "calls": ["decode_token", "db_session", "db.query", "websocket.accept", "websocket.send_json", "websocket.close", "websocket.receive_text", "websocket.send_text"], "search-terms": ["WebSocket notifications", "JWT token validation", "FastAPI websocket route", "user authentication websocket", "notification stream"], "state": 2, "file_id": 31, "knowledge_revision": 76, "git_revision": "8bde6f8c7302e26b798d9bfd92edc28fd11fe6d5", "revision_history": [{"73": ""}, {"76": "8bde6f8c7302e26b798d9bfd92edc28fd11fe6d5"}], "ctags": [{"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/careerskill-bridge-264016-264025/backend/src/api/routers_ws.py", "pattern": "/^router = APIRouter(tags=[\"websocket\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "websocket_usage", "path": "/home/kavia/workspace/code-generation/careerskill-bridge-264016-264025/backend/src/api/routers_ws.py", "pattern": "/^def websocket_usage():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "ws_notifications", "path": "/home/kavia/workspace/code-generation/careerskill-bridge-264016-264025/backend/src/api/routers_ws.py", "pattern": "/^async def ws_notifications(websocket: WebSocket, token: Optional[str] = Query(default=None, alia/", "language": "Python", "kind": "function", "signature": "(websocket: WebSocket, token: Optional[str] = Query(default=None, alias=\"token\"))"}], "hash": "00e65f6b9e6c1684d6917903c588fe6f", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/routers_ws.py", "fields": [{"name": "router = APIRouter(tags=[\"websocket\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}