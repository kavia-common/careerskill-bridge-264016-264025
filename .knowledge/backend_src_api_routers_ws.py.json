{"is_source_file": true, "format": "Python", "description": "This file defines FastAPI WebSocket routes for handling real-time notifications, including a help endpoint and the WebSocket endpoint itself. It manages token validation, user lookup, connection handling, and message echoing.", "external_files": ["src.core.security", "src.db.session", "src.models.user"], "external_methods": ["decode_token"], "published": ["router", "websocket_usage", "ws_notifications"], "classes": [{"name": "User", "description": "User model representing application users, used for database lookups within the WebSocket endpoint."}], "methods": [{"name": "websocket_usage()", "description": "Provides usage instructions for the WebSocket notifications endpoint.", "scope": "", "scopeKind": ""}, {"name": "ws_notifications(websocket: WebSocket, token: Optional[str] = Query(default=None, alias=\"token\"))", "description": "Main WebSocket handler that validates tokens, manages user connection, and echoes messages.", "scope": "", "scopeKind": ""}], "calls": ["decode_token", "db.query", "db_session"], "search-terms": ["WebSocket notifications", "token validation", "FastAPI WebSocket", "decode_token", "user lookup", "JWT token", "notifications route", "ws/notifications"], "state": 2, "file_id": 31, "knowledge_revision": 73, "git_revision": "", "ctags": [{"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/careerskill-bridge-264016-264025/backend/src/api/routers_ws.py", "pattern": "/^router = APIRouter(tags=[\"websocket\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "websocket_usage", "path": "/home/kavia/workspace/code-generation/careerskill-bridge-264016-264025/backend/src/api/routers_ws.py", "pattern": "/^def websocket_usage():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "ws_notifications", "path": "/home/kavia/workspace/code-generation/careerskill-bridge-264016-264025/backend/src/api/routers_ws.py", "pattern": "/^async def ws_notifications(websocket: WebSocket, token: Optional[str] = Query(default=None, alia/", "language": "Python", "kind": "function", "signature": "(websocket: WebSocket, token: Optional[str] = Query(default=None, alias=\"token\"))"}], "hash": "189873e2d98bc6c2a5df1ab0e96f3af6", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/routers_ws.py", "fields": [{"name": "router = APIRouter(tags=[\"websocket\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"73": ""}]}