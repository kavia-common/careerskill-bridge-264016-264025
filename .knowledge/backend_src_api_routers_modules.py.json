{"is_source_file": true, "format": "Python", "description": "This file defines FastAPI route handlers for modules and lessons endpoints, managing retrieval of module and lesson data, and marking lessons as completed within the careerskill backend API.", "external_files": ["src.api.deps", "src.api.schemas", "src.models.content", "src.models.user", "src.models.tracking"], "external_methods": ["get_current_user", "get_db"], "published": ["list_modules", "module_detail", "get_lesson", "complete_lesson"], "classes": [], "methods": [{"name": "list_modules(_: User = Depends(get_current_user), db: Session = Depends(get_db))", "description": "Lists all modules with minimal information, accessible publicly.", "scope": "", "scopeKind": ""}, {"name": "module_detail(module_id: int, _: User = Depends(get_current_user), db: Session = Depends(get_db))", "description": "Provides detailed information about a specific module identified by its ID.", "scope": "", "scopeKind": ""}, {"name": "get_lesson(lesson_id: int, _: User = Depends(get_current_user), db: Session = Depends(get_db))", "description": "Retrieves a specific lesson's content by its ID.", "scope": "", "scopeKind": ""}, {"name": "complete_lesson(lesson_id: int, user: User = Depends(get_current_user), db: Session = Depends(get_db))", "description": "Marks a lesson as completed for a user and updates progress percentage.", "scope": "", "scopeKind": ""}], "calls": ["db.query(Module).all()", "db.query(Module).filter(Module.id == module_id).first()", "db.query(Lesson).filter(Lesson.id == lesson_id).first()", "db.query(Lesson).filter(Lesson.id == lesson_id).first()", "db.query(func.count(Lesson.id)).filter(Lesson.module_id == lesson.module_id).scalar()", "db.query(Progress).filter(Progress.user_id == user.id, Progress.module_id == lesson.module_id).first()"], "search-terms": ["FastAPI route handlers", "modules endpoints", "lessons endpoints", "mark lesson complete", "API routers", "SQLAlchemy ORM interaction", "public API", "Progress tracking", "module detail", "lesson content retrieval"], "state": 2, "file_id": 24, "knowledge_revision": 60, "git_revision": "", "ctags": [{"_type": "tag", "name": "complete_lesson", "path": "/home/kavia/workspace/code-generation/careerskill-bridge-264016-264025/backend/src/api/routers_modules.py", "pattern": "/^def complete_lesson(lesson_id: int, user: User = Depends(get_current_user), db: Session = Depend/", "language": "Python", "kind": "function", "signature": "(lesson_id: int, user: User = Depends(get_current_user), db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_lesson", "path": "/home/kavia/workspace/code-generation/careerskill-bridge-264016-264025/backend/src/api/routers_modules.py", "pattern": "/^def get_lesson(lesson_id: int, _: User = Depends(get_current_user), db: Session = Depends(get_db/", "language": "Python", "kind": "function", "signature": "(lesson_id: int, _: User = Depends(get_current_user), db: Session = Depends(get_db))"}, {"_type": "tag", "name": "list_modules", "path": "/home/kavia/workspace/code-generation/careerskill-bridge-264016-264025/backend/src/api/routers_modules.py", "pattern": "/^def list_modules(_: User = Depends(get_current_user), db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(_: User = Depends(get_current_user), db: Session = Depends(get_db))"}, {"_type": "tag", "name": "module_detail", "path": "/home/kavia/workspace/code-generation/careerskill-bridge-264016-264025/backend/src/api/routers_modules.py", "pattern": "/^def module_detail(module_id: int, _: User = Depends(get_current_user), db: Session = Depends(get/", "language": "Python", "kind": "function", "signature": "(module_id: int, _: User = Depends(get_current_user), db: Session = Depends(get_db))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/careerskill-bridge-264016-264025/backend/src/api/routers_modules.py", "pattern": "/^router = APIRouter(prefix=\"\\/modules\", tags=[\"modules\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "router_lessons", "path": "/home/kavia/workspace/code-generation/careerskill-bridge-264016-264025/backend/src/api/routers_modules.py", "pattern": "/^router_lessons = APIRouter(prefix=\"\\/lessons\", tags=[\"lessons\"])$/", "language": "Python", "kind": "variable"}], "hash": "16542d6dfb4b5694ff664cba89509df8", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/routers_modules.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/modules\", tags=[\"modules\"])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "router_lessons = APIRouter(prefix=\"\\/lessons\", tags=[\"lessons\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"60": ""}]}